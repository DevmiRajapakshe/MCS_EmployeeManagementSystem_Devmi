<div class="prop" id="m-container"></div>
<br>
<table class="table table-striped table-dark">
  <div>

  </div>
  <thead>
    <tr>
      <th scope="col">First Name</th>
      <th scope="col">Last Name</th>
      <th scope="col">Date Of Birth</th>
      <th scope="col">Salary</th>
      <th scope="col">Address</th>
      <th scope="col">Email</th>
      <th scope="col">Phone Number</th>
      <th scope="col">Update Details</th>
      <th scope="col">Delete Employee</th>
    </tr>
  </thead>
  <tbody>
      <tr *ngFor="let emp of employees">
        <th scope="row">{{emp.first_name}}</th>
        <td>{{emp.last_name}}</td>
        <td>{{emp.date_of_birth | date: 'yyyy-MM-dd'}}</td>
        <td>{{emp.salary}}</td>
        <td>{{emp.address}}</td>
        <td>{{emp.email}}</td>
        <td>{{emp.phone}}</td>
        <td><button type="button" class="btn btn-primary btn-block custom-btn" (click)="editEmployee(emp)">Edit Employee</button></td>
        <td><button type="button" class="btn btn-primary btn-block custom-btn" (click)="deleteEmployee(emp)">Delete Employee</button></td>
      </tr>
  </tbody>
</table>

<div class="modal fade" id="editEmployeeModal" tabindex="-1" role="dialog" aria-labelledby="employeeEditModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
     <div class="modal-content form-container">
        <div class="modal-header">
           <h5 class="modal-title" id="updateEmployeeModalLabel" style="color: white;">Edit Employee </h5>
           <button type="button" class="close" data-dismiss="modal" aria-label="Close">
           <span aria-hidden="true">&times;</span>
           </button>
        </div>
        <div class="modal-body">
           <form #updateForm="ngForm">
            <div class="row">
              <div class="form-group col-md-6">
                <label for="firstName" style="color: white">First Name</label>
                <input
                  type="text"
                  class="form-control"
                  id="first_name"
                  name="first_name"
                  ngModel="{{updateEmployee?.first_name}}"
                  placeholder="Enter first name"
                  pattern="[A-Za-z]+"
                  title="Please enter a valid first name"
                  required
                />
              </div>
              <div class="form-group col-md-6">
                <label for="lastName" style="color: white">Last Name</label>
                <input
                  type="text"
                  class="form-control"
                  id="last_name"
                  name="last_name"
                  ngModel="{{updateEmployee?.last_name}}"
                  placeholder="Enter last name"
                  pattern="[A-Za-z]+"
                  title="Please enter a valid last name"
                />
              </div>
            </div>
            <div class="row">
              <div class="form-group col-md-6">
                <label for="dateOfBirth" style="color: white">Date Of Birth</label>
                <input
                  type="date"
                  class="form-control"
                  id="date_of_birth"
                  name="date_of_birth"
                  ngModel="{{updateEmployee?.date_of_birth}}"
                  placeholder="Enter date of birth"
                  required
                />
              </div>
              <div class="form-group col-md-6">
                <label for="salary" style="color: white">Salary</label>
                <input
                  type="number"
                  class="form-control"
                  id="salary"
                  name="salary"
                  ngModel="{{updateEmployee?.salary}}"
                  placeholder="Enter salary"
                  required
                />
              </div>
            </div>
            <div class="row">
              <div class="form-group col-md-6">
                <label for="address" style="color: white">Address</label>
                <input
                  type="text"
                  class="form-control"
                  id="address"
                  name="address"
                  ngModel="{{updateEmployee?.address}}"
                  placeholder="Enter address"
                  required
                />
              </div>
              <div class="form-group col-md-6">
                <label for="jobTitle" style="color: white">Job Title</label>
                <input
                  type="text"
                  class="form-control"
                  id="job_title"
                  name="job_title"
                  ngModel="{{updateEmployee?.job_title}}"
                  placeholder="Enter job title"
                  pattern="[A-Za-z]+"
                  title="Please enter a valid title"
                  required
                />
              </div>
            </div>
            <div class="row">
              <div class="form-group col-md-6">
                <label for="email" style="color: white">Email</label>
                <input
                  type="email"
                  class="form-control"
                  id="email"
                  name="email"
                  ngModel="{{updateEmployee?.email}}"
                  placeholder="Enter email"
                  pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"
                  title="Enter a valid pattern"
                  required
                />
              </div>
              <div class="form-group col-md-6">
                <label for="phone" style="color: white">Phone Number</label>
                <input
                  type="tel"
                  class="form-control"
                  id="phone"
                  name="phone"
                  ngModel="{{updateEmployee?.phone}}"
                  placeholder="Enter phone number"
                  pattern="[0-9]{3}[0-9]{3}[0-9]{4}"
                  title="Enter valid phone number"
                  required
                />
              </div>
              <div class="form-group">
                <input
                  type="text"
                  class="form-control"
                  id="employee_id"
                  name="employee_id"
                  ngModel="{{updateEmployee?.employee_id}}"
                  readonly hidden
                />
              </div>
            </div>
            <br />
            <button
              (click)="updateEmployees(updateForm.value)"
              data-dismiss="modal"
              type="submit"
              class="btn btn-primary btn-block custom-btn">
              Update Employee
            </button>
            <br>
            <button type="button" id="" data-dismiss="modal" class="btn btn-secondary btn-block">Close</button>
          </form>
        </div>
     </div>
  </div>
</div>
